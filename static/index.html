<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expenses Tracker App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- Importa Feather Icons da CDN -->
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif;
        }
        .sidebar-item {
            transition: background-color 0.3s;
        }
        .sidebar-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        .content-area {
            background-color: #f0f0f0;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        /* Stile macOS per schermi più grandi */
        @media (min-width: 641px) {
            .sidebar {
                background-color: #2c2c2c;
                color: white;
            }
            .main-content {
                background-color: #f0f0f0;
            }
        }
        /* Stile iOS per schermi più piccoli */
        @media (max-width: 640px) {
            body {
                background-color: #f2f2f7;
            }
            .sidebar {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                width: 100%;
                z-index: 50;
                background-color: rgba(0, 0, 0, 0.5);
            }
            .sidebar.active {
                display: flex;
                justify-content: flex-end;
            }
            .sidebar-content {
                background-color: #f2f2f7;
                width: 80%;
                max-width: 300px;
                height: 100%;
                overflow-y: auto;
                padding: 1rem;
                border-top-left-radius: 10px;
                border-bottom-left-radius: 10px;
            }
            .sidebar-item {
                padding: 0.75rem;
                margin-bottom: 0.5rem;
                border-radius: 10px;
                background-color: white;
                color: #007aff;
            }
            .main-content {
                padding-top: 0;
                background-color: #f2f2f7;
            }
            .content-area {
                background-color: white;
                border-radius: 10px;
                margin-bottom: 1rem;
            }
            .ios-header {
                background-color: #f2f2f7;
                padding: 1rem;
                text-align: center;
                font-weight: bold;
                font-size: 1.2rem;
                border-bottom: 1px solid #d1d1d6;
            }
            .ios-tab-bar {
                display: flex;
                justify-content: space-around;
                background-color: #f2f2f7;
                border-top: 1px solid #d1d1d6;
                padding: 0.5rem 0;
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
            }
            .ios-tab-item {
                display: flex;
                flex-direction: column;
                align-items: center;
                font-size: 0.8rem;
                color: #007aff;
            }
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="flex flex-col h-screen sm:flex-row">
        <!-- Sidebar (visibile solo su schermi grandi) -->
        <div id="sidebar" class="sidebar w-64 hidden sm:block">
            <div class="p-4 flex flex-col h-full">
                <h1 class="text-2xl font-bold mb-8">Expenses Tracker</h1>
                <nav class="space-y-4 flex-grow">
                    <a href="#" class="sidebar-item block py-3 px-4 rounded" onclick="showSection('dashboard')">
                        <i data-feather="home" class="inline mr-2"></i> <span>Dashboard</span>
                    </a>
                    <a href="#" class="sidebar-item block py-3 px-4 rounded" onclick="showSection('addTransaction')">
                        <i data-feather="plus-circle" class="inline mr-2"></i> <span>Aggiungi</span>
                    </a>
                    <a href="#" class="sidebar-item block py-3 px-4 rounded" onclick="showSection('recentTransactions')">
                        <i data-feather="list" class="inline mr-2"></i> <span>Transazioni</span>
                    </a>
                    <a href="#" class="sidebar-item block py-3 px-4 rounded" onclick="showSection('monthlySummary')">
                        <i data-feather="bar-chart-2" class="inline mr-2"></i> <span>Riepilogo</span>
                    </a>
                </nav>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content flex-1 flex flex-col overflow-hidden">
            <!-- iOS-style header (visible only on mobile) -->
            <div class="ios-header sm:hidden">Expenses Tracker</div>

            <!-- Content Area -->
            <main class="flex-1 overflow-x-hidden overflow-y-auto p-6">
                <div id="dashboard" class="section content-area p-4 sm:p-6 rounded-lg shadow-sm">
                    <h2 class="text-xl font-semibold mb-4">Dashboard</h2>
                    <div class="mb-4">
                        <label for="monthSelector" class="block text-sm font-medium text-gray-700">Seleziona mese:</label>
                        <select class="monthSelector mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md">
                            <!-- Le opzioni verranno popolate dinamicamente con JavaScript -->
                        </select>
                    </div>
                    <div class="bg-blue-100 p-4 rounded-lg shadow-inner">
                        <h3 class="text-lg font-medium mb-2">Saldo Attuale</h3>
                        <p id="balance" class="text-3xl font-bold text-blue-600"></p>
                    </div>
                </div>

                <div id="addTransaction" class="section content-area p-4 sm:p-6 rounded-lg shadow-sm hidden">
                    <h2 class="text-xl font-semibold mb-4">Aggiungi Transazione</h2>
                    <div class="mb-4">
                        <label for="monthSelector" class="block text-sm font-medium text-gray-700">Seleziona mese:</label>
                        <select class="monthSelector mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md">
                            <!-- Le opzioni verranno popolate dinamicamente con JavaScript -->
                        </select>
                    </div>
                    <form id="transactionForm" class="space-y-4">
                        <input type="text" id="description" placeholder="Descrizione" class="w-full p-2 border rounded" required>
                        <input type="number" id="amount" placeholder="Importo" class="w-full p-2 border rounded" required>
                        <select id="type" class="w-full p-2 border rounded" required>
                            <option value="income">Entrata</option>
                            <option value="expense">Uscita</option>
                        </select>
                        <button type="submit" class="w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600">Aggiungi</button>
                    </form>
                </div>

                <div id="recentTransactions" class="section content-area p-4 sm:p-6 rounded-lg shadow-sm hidden">
                    <h2 class="text-xl font-semibold mb-4">Transazioni Recenti</h2>
                    <div class="mb-4">
                        <label for="monthSelector" class="block text-sm font-medium text-gray-700">Seleziona mese:</label>
                        <select class="monthSelector mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md">
                            <!-- Le opzioni verranno popolate dinamicamente con JavaScript -->
                        </select>
                    </div>
                    <div class="mb-4">
                        <label for="transactionTypeFilter" class="block text-sm font-medium text-gray-700">Filtra per tipo:</label>
                        <select id="transactionTypeFilter" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md">
                            <option value="all">Tutte</option>
                            <option value="income">Entrate</option>
                            <option value="expense">Uscite</option>
                        </select>
                    </div>
                    <ul id="transactionsList" class="space-y-2"></ul>
                </div>

                <div id="monthlySummary" class="section content-area p-4 sm:p-6 rounded-lg shadow-sm hidden">
                    <h2 class="text-xl font-semibold mb-4">Riepilogo Mensile</h2>
                    <div class="mb-4">
                        <label for="monthSelector" class="block text-sm font-medium text-gray-700">Seleziona mese:</label>
                        <select class="monthSelector mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md">
                            <!-- Le opzioni verranno popolate dinamicamente con JavaScript -->
                        </select>
                    </div>
                    <ul id="monthlySummaryList" class="space-y-2"></ul>
                </div>
            </main>

            <!-- iOS-style tab bar (visible only on mobile) -->
            <div class="ios-tab-bar sm:hidden">
                <div class="ios-tab-item" onclick="showSection('dashboard')">
                    <i data-feather="home"></i>
                    <span>Dashboard</span>
                </div>
                <div class="ios-tab-item" onclick="showSection('addTransaction')">
                    <i data-feather="plus-circle"></i>
                    <span>Aggiungi</span>
                </div>
                <div class="ios-tab-item" onclick="showSection('recentTransactions')">
                    <i data-feather="list"></i>
                    <span>Transazioni</span>
                </div>
                <div class="ios-tab-item" onclick="showSection('monthlySummary')">
                    <i data-feather="bar-chart-2"></i>
                    <span>Riepilogo</span>
                </div>
            </div>
        </div>
    </div>

    <script src="/static/index.js"></script>
    <script>
        // Inizializza Feather Icons
        feather.replace();
    </script>
</body>
</html>